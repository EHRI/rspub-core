

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>rspub.core.rs_paras &mdash; rspub-core 1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="rspub-core 1 documentation" href="../../../index.html"/>
        <link rel="up" title="Module code" href="../../index.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> rspub-core
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../rst/rspub.cli.html">rspub.cli</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rst/rspub.core.html">rspub.core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rst/rspub.pluggable.html">rspub.pluggable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rst/rspub.util.html">rspub.util</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">rspub-core</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Module code</a> &raquo;</li>
      
    <li>rspub.core.rs_paras</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for rspub.core.rs_paras</h1><div class="highlight"><pre>
<span></span><span class="ch">#! /usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">:samp:`Parameters for ResourceSync publishing`</span>

<span class="sd">The class :class:`RsParameters` validates parameters for ResourceSync publishing that are used throughout the</span>
<span class="sd">application. RsParameters can be persisted as configuration.</span>

<span class="sd">Multiple sets of parameters can be saved and reused as named configurations.</span>
<span class="sd">This enables configuring rspub-core to publish metadata on different sets of resources. Each configuration</span>
<span class="sd">can have its own selection mechanism, metadata directory, strategy etc. Each set of resources can than be published</span>
<span class="sd">in its own capability list.</span>

<span class="sd">The class :class:`RsParameters` in this module and the class :class:`rspub.core.config.Configurations` are</span>
<span class="sd">important assets in this endeavour. RsParameters can be associated with a saved :class:`rspub.core.selector.Selector`.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">urllib.parse</span>
<span class="kn">from</span> <span class="nn">numbers</span> <span class="k">import</span> <span class="n">Number</span>

<span class="kn">import</span> <span class="nn">validators</span>
<span class="kn">from</span> <span class="nn">rspub.core.config</span> <span class="k">import</span> <span class="n">Configuration</span><span class="p">,</span> <span class="n">Configurations</span>
<span class="kn">from</span> <span class="nn">rspub.core.rs_enum</span> <span class="k">import</span> <span class="n">Strategy</span><span class="p">,</span> <span class="n">SelectMode</span>
<span class="kn">from</span> <span class="nn">rspub.util</span> <span class="k">import</span> <span class="n">defaults</span>

<span class="n">WELL_KNOWN_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;.well-known&quot;</span><span class="p">,</span> <span class="s2">&quot;resourcesync&quot;</span><span class="p">)</span>
<span class="n">WELL_KNOWN_URL</span> <span class="o">=</span> <span class="s2">&quot;.well-known/resourcesync&quot;</span>
<span class="n">config</span> <span class="o">=</span> <span class="kc">None</span>


<div class="viewcode-block" id="RsParameters"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters">[docs]</a><span class="k">class</span> <span class="nc">RsParameters</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :samp:`Class capturing the core parameters for ResourceSync publishing`</span>

<span class="sd">    Parameters can be set in the :func:`__init__` method of this class and as properties. Each parameter gets a</span>
<span class="sd">    screening on validity and a `ValueError` will be raised if it is not valid. Parameters can be saved collectively</span>
<span class="sd">    as a configuration. Multiple named configurations can be stored by using the method :func:`save_configuration_as`.</span>
<span class="sd">    Named configurations can be restored by giving the `config_name` at initialisation::</span>

<span class="sd">        # paras is an instance of RsParameters with configuration adequately set for collection 1</span>
<span class="sd">        # it is saved as &#39;collection_1_config&#39;:</span>
<span class="sd">        paras.save_configuration_as(&quot;collection_1_config&quot;)</span>

<span class="sd">        # ...</span>
<span class="sd">        # Later on it is restored...</span>
<span class="sd">        paras = RsParameters(config_name=&quot;collection_1_config&quot;)</span>

<span class="sd">    Note that the class :class:`rspub.core.Configurations` has a method for listing saved configurations by name.</span>

<span class="sd">    RsParameters can be cloned::</span>

<span class="sd">        # paras1 is an instance of RsParameters</span>
<span class="sd">        paras2 = RsParameters(**paras1.__dict__)</span>
<span class="sd">        paras1 == paras2    # False</span>
<span class="sd">        paras1.__dict__ == paras2.__dict__  # True</span>

<span class="sd">    Besides parameters the RsParameters class also has methods for derived properties.</span>

<span class="sd">    .. seealso:: :doc:`rspub.core.config &lt;rspub.core.config&gt;`</span>

<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="RsParameters.__init__"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_dir</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">metadata_dir</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">description_dir</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
                 <span class="n">url_prefix</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">selector_file</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
                 <span class="n">simple_select_file</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">select_mode</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">plugin_dir</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
                 <span class="n">history_dir</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">max_items_in_list</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">zero_fill_filename</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">is_saving_pretty_xml</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
                 <span class="n">is_saving_sitemaps</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">has_wellknown_at_root</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
                 <span class="n">scp_server</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">scp_port</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">scp_user</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
                 <span class="n">scp_document_root</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">scp_document_path</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">zip_filename</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :samp:`Construct an instance of {RsParameters}`</span>

<span class="sd">        All ``parameters`` will get their value from</span>

<span class="sd">        1. the _named argument in `\*\*kwargs`. (this is for cloning instances of RsParameters). If not available:</span>
<span class="sd">        2. the named argument. If not available:</span>
<span class="sd">        3. the parameter as saved in the current configuration. If not available:</span>
<span class="sd">        4. the default configuration value.</span>

<span class="sd">        :param str config_name: the name of the configuration to read. If given, sets the current configuration.</span>
<span class="sd">        :param str resource_dir: ``parameter`` :func:`resource_dir`</span>
<span class="sd">        :param str metadata_dir: ``parameter`` :func:`metadata_dir`</span>
<span class="sd">        :param str description_dir: ``parameter`` :func:`description_dir`</span>
<span class="sd">        :param str url_prefix: ``parameter`` :func:`url_prefix`</span>
<span class="sd">        :param Union[Strategy, int, str] strategy: ``parameter`` :func:`strategy`</span>
<span class="sd">        :param str selector_file: ``parameter`` :func:`selector_file`</span>
<span class="sd">        :param str simple_select_file: ``parameter`` :func:`simple_select_file`</span>
<span class="sd">        :param SelectMode select_mode: ``parameter`` :func:`select_mode`</span>
<span class="sd">        :param str plugin_dir: ``parameter`` :func:`plugin_dir`</span>
<span class="sd">        :param str history_dir: ``parameter`` :func:`history_dir`</span>
<span class="sd">        :param int max_items_in_list: ``parameter`` :func:`max_items_in_list`</span>
<span class="sd">        :param int zero_fill_filename: ``parameter`` :func:`zero_fill_filename`</span>
<span class="sd">        :param bool is_saving_pretty_xml: ``parameter`` :func:`is_saving_pretty_xml`</span>
<span class="sd">        :param bool is_saving_sitemaps: ``parameter`` :func:`is_saving_sitemaps`</span>
<span class="sd">        :param bool has_wellknown_at_root: ``parameter`` :func:`has_wellknown_at_root`</span>
<span class="sd">        :param str scp_server: ``parameter`` :func:`scp_server`</span>
<span class="sd">        :param int scp_port: ``parameter`` :func:`scp_port`</span>
<span class="sd">        :param str scp_user: ``parameter`` :func:`scp_user`</span>
<span class="sd">        :param str scp_document_root: ``parameter`` :func:`scp_document_root`</span>
<span class="sd">        :param str scp_document_path: ``parameter`` :func:`scp_document_path`</span>
<span class="sd">        :param str zip_filename: ``parameter`` :func:`zip_filename`</span>
<span class="sd">        :param kwargs: named arguments, same as parameters, but preceded by _</span>
<span class="sd">        :raises: :exc:`ValueError` if a parameter is not valid or if the configuration with the given `config_name` is not found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
            <span class="s2">&quot;resource_dir&quot;</span><span class="p">:</span> <span class="n">resource_dir</span><span class="p">,</span>
            <span class="s2">&quot;metadata_dir&quot;</span><span class="p">:</span> <span class="n">metadata_dir</span><span class="p">,</span>
            <span class="s2">&quot;description_dir&quot;</span><span class="p">:</span> <span class="n">description_dir</span><span class="p">,</span>
            <span class="s2">&quot;url_prefix&quot;</span><span class="p">:</span> <span class="n">url_prefix</span><span class="p">,</span>
            <span class="s2">&quot;strategy&quot;</span><span class="p">:</span> <span class="n">strategy</span><span class="p">,</span>
            <span class="s2">&quot;selector_file&quot;</span><span class="p">:</span> <span class="n">selector_file</span><span class="p">,</span>
            <span class="s2">&quot;simple_select_file&quot;</span><span class="p">:</span> <span class="n">simple_select_file</span><span class="p">,</span>
            <span class="s2">&quot;select_mode&quot;</span><span class="p">:</span> <span class="n">select_mode</span><span class="p">,</span>
            <span class="s2">&quot;plugin_dir&quot;</span><span class="p">:</span> <span class="n">plugin_dir</span><span class="p">,</span>
            <span class="s2">&quot;history_dir&quot;</span><span class="p">:</span> <span class="n">history_dir</span><span class="p">,</span>
            <span class="s2">&quot;max_items_in_list&quot;</span><span class="p">:</span> <span class="n">max_items_in_list</span><span class="p">,</span>
            <span class="s2">&quot;zero_fill_filename&quot;</span><span class="p">:</span> <span class="n">zero_fill_filename</span><span class="p">,</span>
            <span class="s2">&quot;is_saving_pretty_xml&quot;</span><span class="p">:</span> <span class="n">is_saving_pretty_xml</span><span class="p">,</span>
            <span class="s2">&quot;is_saving_sitemaps&quot;</span><span class="p">:</span> <span class="n">is_saving_sitemaps</span><span class="p">,</span>
            <span class="s2">&quot;has_wellknown_at_root&quot;</span><span class="p">:</span> <span class="n">has_wellknown_at_root</span><span class="p">,</span>
            <span class="s2">&quot;scp_server&quot;</span><span class="p">:</span> <span class="n">scp_server</span><span class="p">,</span>
            <span class="s2">&quot;scp_port&quot;</span><span class="p">:</span> <span class="n">scp_port</span><span class="p">,</span>
            <span class="s2">&quot;scp_user&quot;</span><span class="p">:</span> <span class="n">scp_user</span><span class="p">,</span>
            <span class="s2">&quot;scp_document_root&quot;</span><span class="p">:</span> <span class="n">scp_document_root</span><span class="p">,</span>
            <span class="s2">&quot;scp_document_path&quot;</span><span class="p">:</span> <span class="n">scp_document_path</span><span class="p">,</span>
            <span class="s2">&quot;zip_filename&quot;</span><span class="p">:</span> <span class="n">zip_filename</span>
        <span class="p">})</span>
        <span class="k">if</span> <span class="n">config_name</span><span class="p">:</span>
            <span class="n">cfg</span> <span class="o">=</span> <span class="n">Configurations</span><span class="o">.</span><span class="n">load_configuration</span><span class="p">(</span><span class="n">config_name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cfg</span> <span class="o">=</span> <span class="n">Configuration</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_resource_dir</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_resource_dir_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_resource_dir&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">resource_dir</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resource_dir</span> <span class="o">=</span> <span class="n">_resource_dir_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_dir</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_metadata_dir_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_metadata_dir&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">metadata_dir</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_dir</span> <span class="o">=</span> <span class="n">_metadata_dir_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_description_dir</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_description_dir_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_description_dir&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">description_dir</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">description_dir</span> <span class="o">=</span> <span class="n">_description_dir_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_url_prefix</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_url_prefix_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_url_prefix&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">url_prefix</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url_prefix</span> <span class="o">=</span> <span class="n">_url_prefix_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_strategy</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_strategy_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_strategy&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">strategy</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strategy</span> <span class="o">=</span> <span class="n">_strategy_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_selector_file</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_selector_file_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_selector_file&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">selector_file</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selector_file</span> <span class="o">=</span> <span class="n">_selector_file_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_simple_select_file</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_simple_select_file_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_simple_select_file&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">simple_select_file</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simple_select_file</span> <span class="o">=</span> <span class="n">_simple_select_file_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_select_mode</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_select_mode_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_select_mode&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">select_mode</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_mode</span> <span class="o">=</span> <span class="n">_select_mode_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_plugin_dir</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_plugin_dir_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_plugin_dir&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">plugin_dir</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plugin_dir</span> <span class="o">=</span> <span class="n">_plugin_dir_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_history_dir</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_history_dir_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_history_dir&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">history_dir</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">history_dir</span> <span class="o">=</span> <span class="n">_history_dir_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_max_items_in_list</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_max_items_in_list_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_max_items_in_list&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">max_items_in_list</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_items_in_list</span> <span class="o">=</span> <span class="n">_max_items_in_list_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_zero_fill_filename</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_zero_fill_filename_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_zero_fill_filename&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">zero_fill_filename</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zero_fill_filename</span> <span class="o">=</span> <span class="n">_zero_fill_filename_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_is_saving_pretty_xml</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_is_saving_pretty_xml&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">is_saving_pretty_xml</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_saving_sitemaps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_is_saving_sitemaps&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">is_saving_sitemaps</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_wellknown_at_root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_has_wellknown_at_root&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">has_wellknown_at_root</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scp_server</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_scp_server_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_scp_server&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">scp_server</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scp_server</span> <span class="o">=</span> <span class="n">_scp_server_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scp_port</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_scp_port_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_scp_port&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">scp_port</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scp_port</span> <span class="o">=</span> <span class="n">_scp_port_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scp_user</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_scp_user_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_scp_user&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">scp_user</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scp_user</span> <span class="o">=</span> <span class="n">_scp_user_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scp_document_root</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_scp_document_root_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_scp_document_root&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">scp_document_root</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scp_document_root</span> <span class="o">=</span> <span class="n">_scp_document_root_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scp_document_path</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_scp_document_path_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_scp_document_path&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">scp_document_path</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scp_document_path</span> <span class="o">=</span> <span class="n">_scp_document_path_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_zip_filename</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_zip_filename_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;_zip_filename&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">zip_filename</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zip_filename</span> <span class="o">=</span> <span class="n">_zip_filename_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">last_execution</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;last_execution&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">last_excution</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_strategy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;last_strategy&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">last_strategy</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_sitemaps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__arg__</span><span class="p">(</span><span class="s2">&quot;last_sitemaps&quot;</span><span class="p">,</span> <span class="n">cfg</span><span class="o">.</span><span class="n">last_sitemaps</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">__arg__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">default</span>
        <span class="n">ame</span> <span class="o">=</span> <span class="n">name</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>  <span class="c1"># _argument_x</span>
        <span class="k">elif</span> <span class="n">ame</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">ame</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">ame</span><span class="p">]</span>  <span class="c1"># argument_x</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_assert_directory</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid value for </span><span class="si">%s</span><span class="s2">: path does not exist: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">path</span><span class="p">))</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid value for </span><span class="si">%s</span><span class="s2">: not a directory: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">path</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">path</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_assert_number</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">Number</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid value for </span><span class="si">%s</span><span class="s2">: not a number </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">min</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid value for </span><span class="si">%s</span><span class="s2">: value should be between </span><span class="si">%d</span><span class="s2"> and </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">resource_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`The local root directory for ResourceSync publishing` (str)</span>

<span class="sd">        The given value should point to an existing directory. A relative path will be made absolute, calculated</span>
<span class="sd">        from the current working directory (`os.getcwd()`).</span>

<span class="sd">        The resource_dir acts as the root of the resources to be published. The urls to the resources are</span>
<span class="sd">        calculated relative to the resource_dir. Example::</span>

<span class="sd">            resourece_dir:  /abs/path/to/resource_dir</span>
<span class="sd">            resource:       /abs/path/to/resource_dir/sub/path/to/resource</span>
<span class="sd">            url:                        url_prefix + /sub/path/to/resource</span>

<span class="sd">        ``default:`` user home directory</span>

<span class="sd">        See also: :func:`url_prefix`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resource_dir</span>

    <span class="nd">@resource_dir</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">resource_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assert_directory</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;resource_dir&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span> <span class="ow">or</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)):</span>
            <span class="n">path</span> <span class="o">+=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_resource_dir</span> <span class="o">=</span> <span class="n">path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">metadata_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`The directory for ResourceSync documents` (str)</span>

<span class="sd">        The metadata_dir is the directory where sitemap documents will be saved.</span>
<span class="sd">        Names and relative path names are allowed. An absolute path will raise a</span>
<span class="sd">        :exc:`ValueError`.</span>

<span class="sd">        The metadata directory will be calculated relative to the :func:`resource_dir`.</span>

<span class="sd">        If the metadata directory does not exist it will be created during execution of a synchronization.</span>

<span class="sd">        ``default:`` &#39;metadata&#39;</span>

<span class="sd">        See also: :func:`abs_metadata_dir`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_dir</span>

    <span class="nd">@metadata_dir</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">metadata_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid value for metadata_dir: path should not be absolute: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">path</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">path</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid value for metadata_dir: path should not be empty&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_dir</span> <span class="o">=</span> <span class="n">path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">description_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`Directory where a version of the description document is kept` (str)</span>

<span class="sd">        The description document, also known as `.well-known/resourcesync`, is keeping links to the</span>
<span class="sd">        capability list(s) at the site. A local copy of the description document (or the real description</span>
<span class="sd">        document if synchronization takes place at the server) will be updated with newly created</span>
<span class="sd">        capability lists. The `description_dir` should point to a directory where the</span>
<span class="sd">        :samp:`.well-known/resourcesync` document can be found.</span>

<span class="sd">        If `description_dir` is **None** the :func:`abs_metadata_dir` will be taken as `description_dir`.</span>

<span class="sd">        If the document :samp:`{{description_dir}}/.well-known/resourcesync` does not exist it will be created.</span>

<span class="sd">        ``default:`` **None**</span>

<span class="sd">        See also: :func:`abs_description_path`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_description_dir</span>

    <span class="nd">@description_dir</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">description_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assert_directory</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;description_dir&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_description_dir</span> <span class="o">=</span> <span class="n">path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">url_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`The URL-prefix for ResourceSync publishing` (str)</span>

<span class="sd">        The url_prefix substitutes :func:`resource_dir` when calculating urls to resources. The `url_prefix`</span>
<span class="sd">        should be the host name of the server or host name + path that points to the root directory of the</span>
<span class="sd">        resources. `url_prefix + relative/path/to/resource` should yield a valid url.</span>

<span class="sd">        Example. Paths to resources are relative to the server host::</span>

<span class="sd">            path to resource:           {resource_dir}/path/to/resource</span>
<span class="sd">            url_prefix:         http://www.example.com</span>
<span class="sd">            url to resource:    http://www.example.com/path/to/resource</span>

<span class="sd">        Example. Paths to resources are relative to some directory on the server::</span>

<span class="sd">            path to resource:                        {resource_dir}/path/to/resource</span>
<span class="sd">            url_prefix:         http://www.example.com/my/resources</span>
<span class="sd">            url to resource:    http://www.example.com/my/resources/path/to/resource</span>

<span class="sd">        ``default:`` &#39;http://www.example.com&#39;</span>

<span class="sd">        See also: :func:`resource_dir`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url_prefix</span>

    <span class="nd">@url_prefix</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">url_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;http&quot;</span><span class="p">,</span> <span class="s2">&quot;https&quot;</span><span class="p">]:</span>  <span class="c1"># scheme</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;URL schemes allowed are &#39;http&#39; or &#39;https&#39;. Given: &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span>
        <span class="n">is_valid_domain</span> <span class="o">=</span> <span class="n">validators</span><span class="o">.</span><span class="n">domain</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># netloc</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_valid_domain</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;URL has invalid domain name: &#39;</span><span class="si">%s</span><span class="s2">&#39;. Given: &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">value</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>  <span class="c1"># query</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;URL should not have a query string. Given: &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>  <span class="c1"># fragment</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;URL should not have a fragment. Given: &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span>
        <span class="n">is_valid_url</span> <span class="o">=</span> <span class="n">validators</span><span class="o">.</span><span class="n">url</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_valid_url</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;URL is invalid. Given: &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">+=</span> <span class="s2">&quot;/&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url_prefix</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">strategy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`Strategy for ResourceSync publishing` (str | int | :class:`~rspub.core.rs_enum.Strategy`)</span>

<span class="sd">        The `strategy` determines what will be done by :class:`~rspub.core.resourcesync.ResourceSync` upon execution.</span>
<span class="sd">        At the moment valid values for `strategy` are:</span>

<span class="sd">        - ``0`` :attr:`~rspub.core.rs_enum.Strategy.resourcelist` - new resourcelist: create new resourcelist(s)</span>
<span class="sd">        - ``1`` :attr:`~rspub.core.rs_enum.Strategy.new_changelist` - new changelist: create a new changelist on every execution</span>
<span class="sd">        - ``2`` :attr:`~rspub.core.rs_enum.Strategy.inc_changelist` - incremental changelist: add changes to an existing changelist</span>

<span class="sd">        If strategies new resourcelist or incremental changelist are chosen and there is no previous resourcelist</span>
<span class="sd">        found in the metadata directory the strategy :attr:`~rspub.core.rs_enum.Strategy.resourcelist` will be executed.</span>

<span class="sd">        ``default:`` :attr:`rspub.core.rs_enum.Strategy.resourcelist`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_strategy</span>

    <span class="nd">@strategy</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">strategy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_strategy</span> <span class="o">=</span> <span class="n">Strategy</span><span class="o">.</span><span class="n">strategy_for</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">selector_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`Location of file to construct a {Selector}` (str)</span>

<span class="sd">        A :class:`rspub.core.selector.Selector` can be used as input for the execute methods. The `selector_file`</span>
<span class="sd">        specifies the location of the selector file.</span>

<span class="sd">        ``default:`` **None**</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selector_file</span>

    <span class="nd">@selector_file</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">selector_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">filename</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Value for selector_file should be string. </span><span class="si">%s</span><span class="s2"> is </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">filename</span><span class="p">)))</span>
        <span class="k">if</span> <span class="n">filename</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_selector_file</span> <span class="o">=</span> <span class="n">filename</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">simple_select_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_simple_select_file</span>

    <span class="nd">@simple_select_file</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">simple_select_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">filename</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Value for simple_select_file should be string. </span><span class="si">%s</span><span class="s2"> is </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">filename</span><span class="p">)))</span>
        <span class="k">if</span> <span class="n">filename</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_simple_select_file</span> <span class="o">=</span> <span class="n">filename</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">select_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_select_mode</span>

    <span class="nd">@select_mode</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">select_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_select_mode</span> <span class="o">=</span> <span class="n">SelectMode</span><span class="o">.</span><span class="n">select_mode_for</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">history_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`Directory for storing reports on executed synchronisations` (str)</span>

<span class="sd">        Currently not in use.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_history_dir</span>

    <span class="nd">@history_dir</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">history_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">path</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Value for history_dir should be string. </span><span class="si">%s</span><span class="s2"> is </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">path</span><span class="p">)))</span>
        <span class="k">if</span> <span class="n">path</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_history_dir</span> <span class="o">=</span> <span class="n">path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">plugin_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`Directory where plugins can be found` (str)</span>

<span class="sd">        The given value should point to an existing directory. A relative path will be made absolute, calculated</span>
<span class="sd">        from the current working directory (`os.getcwd()`).</span>

<span class="sd">        At the moment plugins for :class:`~rspub.pluggable.gate.ResourceGateBuilder` can be provided.</span>

<span class="sd">        ``default:`` **None**</span>

<span class="sd">        See also: :doc:`rspub.util.gates &lt;rspub.util.gates&gt;`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_plugin_dir</span>

    <span class="nd">@plugin_dir</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">plugin_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assert_directory</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;plugin_dir&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_plugin_dir</span> <span class="o">=</span> <span class="n">path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">max_items_in_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`The maximum amount of records in a sitemap` (int, 1 - 50000)</span>

<span class="sd">        The &#39;community defined&#39; maximum amount of records in a sitemap document is 50000. If on execution</span>
<span class="sd">        the maximum amount is reached, new sitemaps of the same category will be created with the remaining</span>
<span class="sd">        records.</span>

<span class="sd">        ``default:`` 50000</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_items_in_list</span>

    <span class="nd">@max_items_in_list</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">max_items_in_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_items</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_assert_number</span><span class="p">(</span><span class="n">max_items</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">50000</span><span class="p">,</span> <span class="s2">&quot;max_items_in_list&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_items_in_list</span> <span class="o">=</span> <span class="n">max_items</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">zero_fill_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`The amount of digits in a sitemap filename` (int, 1 - 10)</span>

<span class="sd">        Filenames of resourcelist, changelist etc. are numbered and are post-fixed with this number filled with</span>
<span class="sd">        zero&#39;s up to `zero_fill_filename`. Examples of filenames with `zero_fill_filename` set at 4::</span>

<span class="sd">            changelist_0002.xml</span>
<span class="sd">            changelist_0003.xml</span>

<span class="sd">        ``default:`` 4</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zero_fill_filename</span>

    <span class="nd">@zero_fill_filename</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">zero_fill_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">zfill</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_assert_number</span><span class="p">(</span><span class="n">zfill</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;zero_fill_filename&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_zero_fill_filename</span> <span class="o">=</span> <span class="n">zfill</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_saving_pretty_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`Determines appearance of sitemap xml` (bool)</span>

<span class="sd">        If no humans need to read or inspect sitemaps there is no need for linebreaks etc.</span>

<span class="sd">        ``default:`` **True**, with linebreaks</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_saving_pretty_xml</span>

    <span class="nd">@is_saving_pretty_xml</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">is_saving_pretty_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pretty_xml</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_saving_pretty_xml</span> <span class="o">=</span> <span class="n">pretty_xml</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_saving_sitemaps</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`Determines if sitemaps will be written to disk` (bool)</span>

<span class="sd">        An execution can be a dry-run. With this parameter set to **False** sitemaps will be generated,</span>
<span class="sd">        but not written to disk.</span>

<span class="sd">        ``default:`` **True**, write sitemaps to disk</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_saving_sitemaps</span>

    <span class="nd">@is_saving_sitemaps</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">is_saving_sitemaps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">saving</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_saving_sitemaps</span> <span class="o">=</span> <span class="n">saving</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">has_wellknown_at_root</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`Where is the description document {.well-known/resourcesync} on the server` (bool)</span>

<span class="sd">        The description document is the main entry point for third parties trying to discover resources at</span>
<span class="sd">        a source. Capability lists point toward this document in their `rel:up` attribute. If for some</span>
<span class="sd">        reason the `.well-known/resourcesync` cannot be at the root of the server the `rel:up` link in</span>
<span class="sd">        capability lists will be made to be pointing at `.well-known/resourcesync` relative to</span>
<span class="sd">        :func:`abs_metadata_dir`.</span>

<span class="sd">        ``default:`` **True**, the `.well-known/resourcesync` is at the root of the server</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_wellknown_at_root</span>

    <span class="nd">@has_wellknown_at_root</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">has_wellknown_at_root</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">at_root</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_wellknown_at_root</span> <span class="o">=</span> <span class="n">at_root</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scp_server</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scp_server</span>

    <span class="nd">@scp_server</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">scp_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">server</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">server</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid value for scp_server: server name should not be empty&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scp_server</span> <span class="o">=</span> <span class="n">server</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scp_port</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scp_port</span>

    <span class="nd">@scp_port</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">scp_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_assert_number</span><span class="p">(</span><span class="n">port</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">65535</span><span class="p">,</span> <span class="s2">&quot;scp_port&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scp_port</span> <span class="o">=</span> <span class="n">port</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scp_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scp_user</span>

    <span class="nd">@scp_user</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">scp_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">user</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid value for scp_user: name should not be empty&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scp_user</span> <span class="o">=</span> <span class="n">user</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scp_document_root</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``parameter`` :samp:`The directory from which the server will serve files` (str)</span>

<span class="sd">        Example. Paths to resources are relative to the server host::</span>

<span class="sd">            url_prefix:         http://www.example.com</span>
<span class="sd">            url to resource:    http://www.example.com/path/to/resource</span>
<span class="sd">            scp_document_root:           /var/www/html/</span>
<span class="sd">            scp_document_path:</span>
<span class="sd">            path on server:              /var/www/html/path/to/resource</span>

<span class="sd">        Example. Paths to resources are relative to some directory on the server::</span>

<span class="sd">            url_prefix:         http://www.example.com/my/resources</span>
<span class="sd">            url to resource:    http://www.example.com/my/resources/path/to/resource</span>
<span class="sd">            scp_document_root:           /var/www/html/</span>
<span class="sd">            scp_document_path:                         my/resources</span>
<span class="sd">            path on server:              /var/www/html/my/resources/path/to/resource</span>

<span class="sd">        ``default:`` &#39;/var/www/html/&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scp_document_root</span>

    <span class="nd">@scp_document_root</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">scp_document_root</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid value for scp_document_root: path should not be empty&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">+=</span> <span class="s2">&quot;/&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scp_document_root</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scp_document_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scp_document_path</span>

    <span class="nd">@scp_document_path</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">scp_document_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scp_document_path</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">zip_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zip_filename</span>

    <span class="nd">@zip_filename</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">zip_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid value for zip_filename: filename should not be empty&quot;</span><span class="p">)</span>
        <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">value</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">ext</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">+=</span> <span class="s2">&quot;.zip&quot;</span>
        <span class="k">if</span> <span class="n">ext</span> <span class="o">==</span> <span class="s2">&quot;.&quot;</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">+=</span> <span class="s2">&quot;zip&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_zip_filename</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="RsParameters.save_configuration"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.save_configuration">[docs]</a>    <span class="k">def</span> <span class="nf">save_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">on_disk</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``function`` :samp:`Save current configuration`</span>

<span class="sd">        Save the current values of parameters to configuration. If `on_disk` is **True** (the default)</span>
<span class="sd">        persist the configuration to disk under the current configuration name.</span>

<span class="sd">        :param on_disk: **True** if configuration should be saved to disk, **False** otherwise</span>

<span class="sd">        See also: :func:`~rspub.core.config.Configurations.current_configuration_name`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cfg</span> <span class="o">=</span> <span class="n">Configuration</span><span class="p">()</span>

        <span class="n">cfg</span><span class="o">.</span><span class="n">set_resource_dir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_dir</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_metadata_dir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata_dir</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_description_dir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">description_dir</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_url_prefix</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_prefix</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_strategy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strategy</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_selector_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selector_file</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_simple_select_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">simple_select_file</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_select_mode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">select_mode</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_history_dir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">history_dir</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_plugin_dir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plugin_dir</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_max_items_in_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_items_in_list</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_zero_fill_filename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">zero_fill_filename</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_is_saving_pretty_xml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">is_saving_pretty_xml</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_is_saving_sitemaps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">is_saving_sitemaps</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_has_wellknown_at_root</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">has_wellknown_at_root</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_last_execution</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_execution</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_last_strategy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_strategy</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_last_sitemaps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_sitemaps</span><span class="p">)</span>
        <span class="c1">#</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_scp_server</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scp_server</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_scp_port</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scp_port</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_scp_user</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scp_user</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_scp_document_root</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scp_document_root</span><span class="p">)</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_scp_document_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scp_document_path</span><span class="p">)</span>
        <span class="c1">#</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">set_zip_filename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">zip_filename</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">on_disk</span><span class="p">:</span>
            <span class="n">cfg</span><span class="o">.</span><span class="n">persist</span><span class="p">()</span></div>

<div class="viewcode-block" id="RsParameters.save_configuration_as"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.save_configuration_as">[docs]</a>    <span class="k">def</span> <span class="nf">save_configuration_as</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``function`` :samp:`Save current configuration under {name}`</span>

<span class="sd">        Save the current configuration under the given `name`. If a configuration under the given `name` already</span>
<span class="sd">        exists it will be overwritten without warning.</span>

<span class="sd">        :param str name: the name under which the configuration will be saved</span>

<span class="sd">        See also: :func:`~rspub.core.config.Configurations.load_configuration`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_configuration</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">Configurations</span><span class="o">.</span><span class="n">save_configuration_as</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="RsParameters.reset"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.reset">[docs]</a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">configuration_name</span><span class="p">()</span>
        <span class="n">cfg</span> <span class="o">=</span> <span class="n">Configuration</span><span class="p">()</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">core_clear</span><span class="p">()</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">persist</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">config_name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="RsParameters.abs_metadata_dir"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.abs_metadata_dir">[docs]</a>    <span class="k">def</span> <span class="nf">abs_metadata_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``derived`` :samp:`The absolute path to metadata directory`</span>

<span class="sd">        :return: absolute path to metadata directory</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_dir</span><span class="p">)</span></div>

<div class="viewcode-block" id="RsParameters.abs_metadata_path"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.abs_metadata_path">[docs]</a>    <span class="k">def</span> <span class="nf">abs_metadata_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``derived`` :samp:`The absolute path to file in the metadata directory`</span>

<span class="sd">        :param str filename: the filename to position relative to the :func:`abs_metadata_dir`</span>
<span class="sd">        :return: absolute path to file in the metadata directory</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abs_metadata_dir</span><span class="p">(),</span> <span class="n">filename</span><span class="p">)</span></div>

<div class="viewcode-block" id="RsParameters.abs_description_path"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.abs_description_path">[docs]</a>    <span class="k">def</span> <span class="nf">abs_description_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``derived`` :samp:`The absolute path to (the local copy of) the file {.well-known/resourcesync}`</span>

<span class="sd">        :return: absolute path to (the local copy of) the file ``.well-known/resourcesync``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">desc_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">description_dir</span>
        <span class="k">if</span> <span class="n">desc_dir</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">desc_dir</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">desc_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">abs_metadata_dir</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">desc_dir</span><span class="p">,</span> <span class="n">WELL_KNOWN_PATH</span><span class="p">)</span></div>

<div class="viewcode-block" id="RsParameters.server_root"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.server_root">[docs]</a>    <span class="k">def</span> <span class="nf">server_root</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``derived`` :samp:`The server root as derived from {url_prefix}`</span>

<span class="sd">        :return: server root</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_prefix</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunsplit</span><span class="p">([</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="RsParameters.description_url"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.description_url">[docs]</a>    <span class="k">def</span> <span class="nf">description_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``derived`` :samp:`The current description url`</span>

<span class="sd">        The current description url either points to ``{server root}/.well-known/resourcesync``</span>
<span class="sd">        or to a file in the metadata directory.</span>

<span class="sd">        :return: current description url</span>

<span class="sd">        See also: :func:`has_wellknown_at_root`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_wellknown_at_root</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_prefix</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunsplit</span><span class="p">([</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">WELL_KNOWN_URL</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">abs_metadata_path</span><span class="p">(</span><span class="n">WELL_KNOWN_URL</span><span class="p">)</span>
            <span class="n">rel_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_dir</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">url_prefix</span> <span class="o">+</span> <span class="n">defaults</span><span class="o">.</span><span class="n">sanitize_url_path</span><span class="p">(</span><span class="n">rel_path</span><span class="p">)</span></div>

<div class="viewcode-block" id="RsParameters.capabilitylist_url"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.capabilitylist_url">[docs]</a>    <span class="k">def</span> <span class="nf">capabilitylist_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``derived`` :samp:`The current capabilitylist url`</span>

<span class="sd">        The current capabilitylist url points to &#39;capabilitylist.xml&#39; in the metadata directory.</span>

<span class="sd">        :return: current capabilitylist url</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">abs_metadata_path</span><span class="p">(</span><span class="s2">&quot;capabilitylist.xml&quot;</span><span class="p">)</span>
        <span class="n">rel_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_dir</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">url_prefix</span> <span class="o">+</span> <span class="n">defaults</span><span class="o">.</span><span class="n">sanitize_url_path</span><span class="p">(</span><span class="n">rel_path</span><span class="p">)</span></div>

<div class="viewcode-block" id="RsParameters.uri_from_path"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.uri_from_path">[docs]</a>    <span class="k">def</span> <span class="nf">uri_from_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``derived`` :samp:`Calculate the url of a path relative to {resource_dir}`</span>

<span class="sd">        :param str path: the path to calculate the url from</span>
<span class="sd">        :return: the url of the path relative to ``resource_dir``</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rel_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_dir</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">url_prefix</span> <span class="o">+</span> <span class="n">defaults</span><span class="o">.</span><span class="n">sanitize_url_path</span><span class="p">(</span><span class="n">rel_path</span><span class="p">)</span></div>

<div class="viewcode-block" id="RsParameters.abs_history_dir"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.abs_history_dir">[docs]</a>    <span class="k">def</span> <span class="nf">abs_history_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``derived`` :samp:`The absolute path to directory for reports on synchronizations`</span>

<span class="sd">        Currently not in use.</span>

<span class="sd">        :return: absolute path to directory for reports</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">history_dir</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abs_metadata_dir</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">history_dir</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

    <span class="nd">@staticmethod</span>
<div class="viewcode-block" id="RsParameters.configuration_name"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.configuration_name">[docs]</a>    <span class="k">def</span> <span class="nf">configuration_name</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``function`` :samp:`Current configuration name`</span>

<span class="sd">        :return: current configuration name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Configurations</span><span class="o">.</span><span class="n">current_configuration_name</span><span class="p">()</span></div>

<div class="viewcode-block" id="RsParameters.example_filename"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.example_filename">[docs]</a>    <span class="k">def</span> <span class="nf">example_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ordinal</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">strategy</span> <span class="o">==</span> <span class="n">Strategy</span><span class="o">.</span><span class="n">resourcelist</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;resourcelist_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ordinal</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">zero_fill_filename</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.xml&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;changelist_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ordinal</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">zero_fill_filename</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.xml&quot;</span></div>

<div class="viewcode-block" id="RsParameters.describe"><a class="viewcode-back" href="../../../rst/rspub.core.rs_paras.html#rspub.core.rs_paras.RsParameters.describe">[docs]</a>    <span class="k">def</span> <span class="nf">describe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">as_string</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="mi">23</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ``function`` :samp:`List parameters and derived values`</span>

<span class="sd">        List parameters, values and derived values as a list of tuples. Each tuple contains:</span>

<span class="sd">        ===  =====  ========================================================</span>
<span class="sd">        n    field  contents</span>
<span class="sd">        ===  =====  ========================================================</span>
<span class="sd">        0    bool   **True** for ``parameter``, **False** for derived value</span>
<span class="sd">        1    name   The name of the parameter or derived value</span>
<span class="sd">        2    value  The value of the parameter or derived value</span>
<span class="sd">        3..  ...    Anything else</span>
<span class="sd">        ===  =====  ========================================================</span>

<span class="sd">        :param as_string: return contents as a printable string</span>
<span class="sd">        :param fill: if as_string: fill column &#39;name&#39; with `fill` spaces</span>
<span class="sd">        :return: list[list] or str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tuples</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;configuration_name&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">configuration_name</span><span class="p">()],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;resource_dir&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_dir</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;metadata_dir&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata_dir</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;abs_metadata_dir&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">abs_metadata_dir</span><span class="p">()],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;description_dir&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">description_dir</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;abs_description_path&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">abs_description_path</span><span class="p">()],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;url_prefix&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url_prefix</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;has_wellknown_at_root&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_wellknown_at_root</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;description_url&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">description_url</span><span class="p">()],</span>
            <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;capabilitylist_url&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">capabilitylist_url</span><span class="p">()],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;strategy&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">strategy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">strategy</span><span class="o">.</span><span class="n">describe</span><span class="p">()],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;selector_file&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">selector_file</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;simple_select_file&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">simple_select_file</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;select_mode&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_mode</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;plugin_dir&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">plugin_dir</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;max_items_in_list&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_items_in_list</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;zero_fill_filename&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">zero_fill_filename</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;example_filename&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">example_filename</span><span class="p">(</span><span class="mi">42</span><span class="p">)],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;is_saving_pretty_xml&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_saving_pretty_xml</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;is_saving_sitemaps&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_saving_sitemaps</span><span class="p">],</span>
            <span class="c1">#</span>
            <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;last_execution&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_execution</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;last_strategy&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_strategy</span><span class="p">],</span>
            <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;last_sitemaps_count&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_sitemaps</span><span class="p">)]</span>
            <span class="c1">#</span>
            <span class="c1">#[True, &quot;scp_server&quot;, self.scp_server],</span>
            <span class="c1">#[True, &quot;scp_port&quot;, self.scp_port],</span>
            <span class="c1">#[True, &quot;scp_user&quot;, self.scp_user],</span>
            <span class="c1">#[True, &quot;scp_document_root&quot;, self.scp_document_root],</span>
            <span class="c1">#[True, &quot;scp_document_path&quot;, self.scp_document_path],</span>
            <span class="c1">#[True, &quot;zip_filename&quot;, self.zip_filename]</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">as_string</span><span class="p">:</span>
            <span class="n">f</span> <span class="o">=</span> <span class="s2">&quot;{:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">fill</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;s}&quot;</span>
            <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tuples</span><span class="p">:</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot; - &quot;</span> <span class="k">if</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot; + &quot;</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="n">f</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">extra</span> <span class="ow">in</span> <span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">:]:</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot; | &quot;</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">extra</span><span class="p">)</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">s</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">tuples</span></div></div>





</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, DANS-KNAW.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
     
    <li><a href="https://github.com/EHRI/rspub-core">rspub-core at GitHub</a></li>


</body>
</html>